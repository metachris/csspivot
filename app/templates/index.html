{% extends "base.html" %}

{% block scripts %}
<script type="text/javascript">
function isUrl(s) {
 	var regexp = /http:\/\/[A-Za-z0-9\.-]{3,}\.[A-Za-z]{2,4}/;
 	return regexp.test(s);
}

$(document).ready(function() {
    document.getElementById("url").focus();
    $("#url").keydown(function(event) { $("#info_invalidurl").hide(); });
	$(".btn").button();
});

function valid() {
    url = $("#url").val();
    if (url.indexOf("://") == -1)
        url = "http://" + url;
    if (!isUrl(url)) {
        $("#info_invalidurl").show();
        return false;
    }
}
</script>
{% endblock %}

{% block main %}
<div style="margin:40px 0px 26px 0px;">
    <a href="http://www.csspivot.com"><img src="/images/logo.png" width="162" height="32" border="0" /></a>
</div>

Modify and share CSS styles for any website.

<form action="/preview" method="get" id="form_pivot" onsubmit="return valid()">
<div style="padding-left:26px; margin-top:40px;">
<div id="pivot" style="background:url(/images/inputshape2.png) top left no-repeat; width:605px; height:80px;">
    <input type="text" name="url" id="url" style="margin-top:10px; width:570px; padding-left:10px; height:46px; font-size:30px; border:0px solid white;" value="{% if invalid_url %}{{ invalid_url }}{% else %}http://{% endif %}" onfocus="this.value = this.value;" />
</div>
<div style="text-align:right; margin-top:3px;">

<div style="float:left; padding-left:185px; width:140px; text-align:left; {% if not invalid_url %}display:none;{% endif %}" id="info_invalidurl">
    <div class="ui-state-error ui-corner-all" style="padding: 4px 0px 4px .7em;">    				 
		<span class="ui-icon ui-icon-alert" style="float:left; padding-right:10px;"></span> Not a valid url
	</div>
    
</div>
    <input type="submit" value="open url" class="btn"/>
</div>
</div>
</form>


<div id="_recent"></div>
<script type="text/javascript">
    recent = localStorage.getItem("pivots_recentlyviewed");
    out = "";
    if (recent) {
    arr = recent.split(",");
        for (i in arr) {
            if (arr[i] != "") {
                comment = localStorage.getItem("pivots_recentlyviewed_" + arr[i] + "_comment");
                url = localStorage.getItem("pivots_recentlyviewed_" + arr[i] + "_url");
                out += "<a href='/" + arr[i] + "' title='" + url + "'>" + arr[i] + "</a>, ";
            }
        }
    }
    if (out.length > 2) {
        out = out.substr(0, out.length-2);
        document.getElementById("_recent").innerHTML = "<div style='margin-top:60px;'>Recently viewed: " + out + "</div>";
    }
</script>

<div style="width:150px; margin:auto; margin-top:50px; text-align:center;">
    <div style="float:left;">
        <a href="http://twitter.com/share" class="twitter-share-button" data-text="Modify and share the CSS of any website:" data-count="vertical" data-via="csspivot">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div>
    <div style="float:left; margin-top:2px; margin-left:40px;">
        <iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.csspivot.com&amp;layout=box_count&amp;show_faces=false&amp;width=50&amp;action=like&amp;font&amp;colorscheme=light&amp;height=65" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:65px;" allowTransparency="true"></iframe>
    </div>
    <div style="clear:both;"></div>
</div>

<!--
<div style="margin-top:50px; text-align:center;">
<a href="javascript:feedback()"><img src="/images/twitter_us.png" /></a>
</div>
-->
{% endblock %}